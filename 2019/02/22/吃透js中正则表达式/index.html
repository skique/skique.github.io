<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>吃透js中正则表达式 | taoyouyou的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="我们在开发的过程中总会碰到一些需求需要做字符串匹配，当遇到一些稍微复杂一点的匹配规则时，如果我们对正则还不那么清晰,我们总是会去网上搜索一些现成的正则匹配，ctrl+c,ctrl+v。时间长了我们对这种修修补补的方式不厌其烦。那么今天就对正则表达式做足功夫，磨刀不误砍柴工，首先推荐一个学习正则的一个可视化的工具网址： https://regexper.com，输入正则规则即可生成匹配规则的流程图。">
<meta name="keywords" content="正则表达式">
<meta property="og:type" content="article">
<meta property="og:title" content="吃透js中正则表达式">
<meta property="og:url" content="http://yoursite.com/2019/02/22/吃透js中正则表达式/index.html">
<meta property="og:site_name" content="taoyouyou的博客">
<meta property="og:description" content="我们在开发的过程中总会碰到一些需求需要做字符串匹配，当遇到一些稍微复杂一点的匹配规则时，如果我们对正则还不那么清晰,我们总是会去网上搜索一些现成的正则匹配，ctrl+c,ctrl+v。时间长了我们对这种修修补补的方式不厌其烦。那么今天就对正则表达式做足功夫，磨刀不误砍柴工，首先推荐一个学习正则的一个可视化的工具网址： https://regexper.com，输入正则规则即可生成匹配规则的流程图。">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/2/22/1691537782c64cc4">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/2/22/169153777e9b7144">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/2/22/1691537781734783">
<meta property="og:image" content="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组1.svg">
<meta property="og:image" content="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组2.svg">
<meta property="og:image" content="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组3.svg">
<meta property="og:image" content="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组5.svg">
<meta property="og:image" content="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组4.svg">
<meta property="og:updated_time" content="2019-02-27T09:45:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="吃透js中正则表达式">
<meta name="twitter:description" content="我们在开发的过程中总会碰到一些需求需要做字符串匹配，当遇到一些稍微复杂一点的匹配规则时，如果我们对正则还不那么清晰,我们总是会去网上搜索一些现成的正则匹配，ctrl+c,ctrl+v。时间长了我们对这种修修补补的方式不厌其烦。那么今天就对正则表达式做足功夫，磨刀不误砍柴工，首先推荐一个学习正则的一个可视化的工具网址： https://regexper.com，输入正则规则即可生成匹配规则的流程图。">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2019/2/22/1691537782c64cc4">
  
    <link rel="alternate" href="/atom.xml" title="taoyouyou的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">taoyouyou的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">每一个不曾起舞的日子都是对生命的辜负</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Buscar"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-吃透js中正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/22/吃透js中正则表达式/" class="article-date">
  <time datetime="2019-02-22T02:29:33.000Z" itemprop="datePublished">2019-02-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      吃透js中正则表达式
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们在开发的过程中总会碰到一些需求需要做字符串匹配，当遇到一些稍微复杂一点的匹配规则时，如果我们对正则还不那么清晰,我们总是会去网上搜索一些现成的正则匹配，ctrl+c,ctrl+v。时间长了我们对这种修修补补的方式不厌其烦。那么今天就对正则表达式做足功夫，磨刀不误砍柴工，首先推荐一个学习正则的一个可视化的工具网址： <a href="https://regexper.com" target="_blank" rel="noopener">https://regexper.com</a>，输入正则规则即可生成匹配规则的流程图。了解并吃透正则会为我们以后开发节省很多时间和精力，一劳永逸。先从最基本的概念开始吧，let go!</p>
<h3 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h3><p>概念：有特殊含义的特殊字符，eg： * + ? $ ^ . | \ ( ) { } [ ]等</p>
<h4 id="通用含义元字符"><a href="#通用含义元字符" class="headerlink" title="通用含义元字符"></a>通用含义元字符</h4><p>在大部分语言语境中代表同一种含义，如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">\t</td>
<td style="text-align:left">水平制表符</td>
</tr>
<tr>
<td style="text-align:left">\v</td>
<td style="text-align:left">垂直制表符</td>
</tr>
<tr>
<td style="text-align:left">\n</td>
<td style="text-align:left">换行符</td>
</tr>
<tr>
<td style="text-align:left">\r</td>
<td style="text-align:left">回车符</td>
</tr>
<tr>
<td style="text-align:left">\0</td>
<td style="text-align:left">空字符</td>
</tr>
<tr>
<td style="text-align:left">\f</td>
<td style="text-align:left">换页符</td>
</tr>
<tr>
<td style="text-align:left">\cX</td>
<td style="text-align:left">Ctrl+X</td>
</tr>
</tbody>
</table>
<h4 id="其他含义元字符"><a href="#其他含义元字符" class="headerlink" title="其他含义元字符"></a>其他含义元字符</h4><h5 id="1-字符类"><a href="#1-字符类" class="headerlink" title="1. 字符类"></a>1. 字符类</h5><ul>
<li>我们可以使用元字符[]来构建一个简单的字符类</li>
<li>所谓的类是指符合某些特性的对象，一个泛指，而不是特指某个字符</li>
<li>表达式[abc]归为一类，表达式可以匹配这些类的字符<br><img src="https://user-gold-cdn.xitu.io/2019/2/22/1691537782c64cc4" alt=""><h5 id="2-字符类取反"><a href="#2-字符类取反" class="headerlink" title="2. 字符类取反"></a>2. 字符类取反</h5></li>
<li>我们可以使用元字符^来创建反向类/负向类</li>
<li>反向类的意思是不属于某个类的内容</li>
<li>表达式[^abc]表示不是字符a或b或c的内容<br><img src="https://user-gold-cdn.xitu.io/2019/2/22/169153777e9b7144" alt=""><h5 id="3-范围类"><a href="#3-范围类" class="headerlink" title="3. 范围类"></a>3. 范围类</h5></li>
<li>正则表达式还提供了范围类</li>
<li>我们使用[a-z]来连接两个字符表示从a到z的任意字符</li>
<li>这是个闭区间也就包含a和z本身<br><img src="https://user-gold-cdn.xitu.io/2019/2/22/1691537781734783" alt=""><h5 id="4-预定义类"><a href="#4-预定义类" class="headerlink" title="4. 预定义类"></a>4. 预定义类</h5></li>
<li>正则表达式提供了一些特殊字符表示自一组比较复杂的匹配规则，如下表：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">等价</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">[^\r\n]</td>
<td style="text-align:left">除了回车符和换行符之外的所有字符</td>
</tr>
<tr>
<td style="text-align:left">\d</td>
<td style="text-align:left">[0-9]</td>
<td style="text-align:left">数字字符</td>
</tr>
<tr>
<td style="text-align:left">\D</td>
<td style="text-align:left">[^0-9]</td>
<td style="text-align:left">非数字字符</td>
</tr>
<tr>
<td style="text-align:left">\s</td>
<td style="text-align:left">[\t\n\x0B\f\r]</td>
<td style="text-align:left">空白符</td>
</tr>
<tr>
<td style="text-align:left">\0</td>
<td style="text-align:left">[^\t\n\x0B\f\r]</td>
<td style="text-align:left">非空白符</td>
</tr>
<tr>
<td style="text-align:left">\w</td>
<td style="text-align:left">[a-zA-Z_0-9]</td>
<td style="text-align:left">单词字符(字母数字下划线)</td>
</tr>
<tr>
<td style="text-align:left">\W</td>
<td style="text-align:left">[^a-zA-Z_0-9]</td>
<td style="text-align:left">非单词字符</td>
</tr>
</tbody>
</table>
<h5 id="5-边界"><a href="#5-边界" class="headerlink" title="5. 边界"></a>5. 边界</h5><ul>
<li>正则表达式还提供了几个常用的边界匹配字符，如下表：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">以xxx开始</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">以xxx结束</td>
</tr>
<tr>
<td style="text-align:left">\b</td>
<td style="text-align:left">单词边界</td>
</tr>
<tr>
<td style="text-align:left">\B</td>
<td style="text-align:left">非单词边界</td>
</tr>
</tbody>
</table>
<h5 id="6-量词"><a href="#6-量词" class="headerlink" title="6. 量词"></a>6. 量词</h5><table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">出现一次或0次（最多出现一次）</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">出现一次或多次（最少出现一次）</td>
</tr>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">出现0次或多次（任意次）</td>
</tr>
<tr>
<td style="text-align:left">{n}</td>
<td style="text-align:left">出现n次</td>
</tr>
<tr>
<td style="text-align:left">{n, m}</td>
<td style="text-align:left">出现n到m次</td>
</tr>
<tr>
<td style="text-align:left">{n, }</td>
<td style="text-align:left">至少出现n次</td>
</tr>
</tbody>
</table>
<h3 id="js正则的贪婪模式和非贪婪模式"><a href="#js正则的贪婪模式和非贪婪模式" class="headerlink" title="js正则的贪婪模式和非贪婪模式"></a>js正则的贪婪模式和非贪婪模式</h3><ol>
<li><p>贪婪模式：\d{3,6}匹配数字3到6次，那么在匹配的过程中会尽可能多的的匹配。如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;12345678&apos;.replace(/\d&#123;3,6&#125;/, &apos;X&apos;)  // &quot;X78&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>非贪婪模式：在量词后面加上 ? ,可以让正则表达式尽可能少的匹配，也就是非贪婪模式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;12345678&apos;.replace(/\d&#123;3,6&#125;?/, &apos;X&apos;)  // &quot;X45678&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>对一组正则规则加(),可以对正则进行分组，   </p>
<p>比如：对taoyouyou这组单词匹配三次<br>taoyouyou{3}<br><img src="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组1.svg" alt=""><br>可视化后能看到只是最后一个单词u重复了3次，并没有达到目的<br>(taoyouyou){3}<br><img src="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组2.svg" alt=""><br>taoyouyou重复了3次</p>
<h4 id="捕获组引用"><a href="#捕获组引用" class="headerlink" title="捕获组引用"></a>捕获组引用</h4><p>对字符串进行分组后，   </p>
<p>捕获组的编号是按照“(”出现的顺序，从左到右，从1开始进行编号的 。   </p>
<p>在replace方法中可以通过$number(number表示捕获组的编号)进行引用      </p>
<p>在js表达式中分组引用通过RegExp对象暴露出来，    </p>
<p>即通过RegExp.$number引用   </p>
<p>例如实现2019-02-22 =&gt; 02/22/2019的转化。<br><img src="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组3.svg" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;2019-02-22&apos;.replace(/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/,&apos;$2/$3/$1&apos;)   //  &quot;02/22/2019&quot;</span><br></pre></td></tr></table></figure></p>
<h4 id="反向引用"><a href="#反向引用" class="headerlink" title="反向引用"></a>反向引用</h4><p>正则表达式中所定义的捕获的反向引用指的是 </p>
<blockquote>
<p>将捕获作为正则表达式中能够成功匹配术语时的候选字符串      </p>
</blockquote>
<p>这种术语表示法是在反斜杆后面加一个要引用的捕获数量。<br>捕获组捕获到的内容，不仅可以在正则表达式外部通过程序进行引用，也可以在正则表达式内部进行引用，这种引用方式就是反向引用。反向引用的作用通常是用来查找或限定重复、查找或限定指定标识配对出现等等。<br>例如:([a-z])\1{2}也就表达连续三个相同的小写字母。   </p>
<p><img src="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组5.svg" alt=""></p>
<h4 id="忽略分组"><a href="#忽略分组" class="headerlink" title="忽略分组"></a>忽略分组</h4><p>不需要捕获某些分组只需要在分组内加 ?: 就可以了。<br>(?:taoyouyou).(ok)<br><img src="https://gitee.com/taoyouyou/taoyouyou/raw/master/assets/photos/regex分组4.svg" alt=""></p>
<h3 id="前瞻"><a href="#前瞻" class="headerlink" title="前瞻"></a>前瞻</h3><ul>
<li>正则表达式从文本头部向尾部解析，文本尾部方向称为 “前”</li>
<li>前瞻：正则表达式匹配到规则的时候，向前检查是否符合断言，后顾/后瞻方向相反</li>
<li>JavaScript不支持后顾</li>
<li>符合和不符合某项断言称为肯定/正向匹配和否定/负向匹配</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">正则</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">正向前瞻</td>
<td style="text-align:left">exp(?=assert)</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">负向前瞻</td>
<td style="text-align:left">exp(?!assert)</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">正向后顾</td>
<td style="text-align:left">exp(?&lt;=assert)</td>
<td style="text-align:left">JavaScript不支持</td>
</tr>
<tr>
<td style="text-align:left">负向后顾</td>
<td style="text-align:left">exp(?&lt;!assert)</td>
<td style="text-align:left">JavaScript不支持</td>
</tr>
</tbody>
</table>
<h3 id="正则对象属性"><a href="#正则对象属性" class="headerlink" title="正则对象属性"></a>正则对象属性</h3><ul>
<li>global: 是否全文匹配，默认false，匹配规则后面加g开启</li>
<li>ignoreCase: 是否大小写敏感， 默认false，匹配规则后面加i开启</li>
<li>multiline: 多行搜索， 默认false，匹配规则后面加m开启</li>
<li>lastIndex: 当前表达式匹配内容最后一个字符的下一个位置</li>
<li>source: 正则表达式的文本字符串<br>这几个属性都是只读属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg=/\d/gmi</span><br><span class="line">reg.global  // true</span><br><span class="line">reg.ignoreCase  // true</span><br><span class="line">reg.multiline  // true</span><br><span class="line">reg.lastIndex  // 0</span><br><span class="line">reg.source  // &quot;\d&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="对象方法"><a href="#对象方法" class="headerlink" title="对象方法"></a>对象方法</h3><h4 id="1-正则test方法"><a href="#1-正则test方法" class="headerlink" title="1. 正则test方法"></a>1. 正则test方法</h4><p> RegExp.prototype.test(str)</p>
<ul>
<li>用于测试字符串参数中是否存在匹配正则表达式模式的字符串</li>
<li>如果存在则返回true，否则返回false   </li>
</ul>
<p>需要注意的是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var reg2=/\w/g;</span><br></pre></td></tr></table></figure></p>
<p>进行reg2.test(‘ab’)时，第三次会变成false<br>原因：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while(reg2.test(&apos;ab&apos;))&#123;</span><br><span class="line">  console.log(reg2.lastIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>即进行test时，正则表达式的lastIndex会发生变化<br>输出：1  2    表示第一个匹配上了、第二个匹配上了</p>
<h4 id="2-正则exec方法"><a href="#2-正则exec方法" class="headerlink" title="2. 正则exec方法"></a>2. 正则exec方法</h4><p> RegExp.prototype.exec(str)</p>
<ul>
<li>使用正则表达式模式对字符串参数进行匹配搜索，并将更新全局对象属性以反映匹配结果</li>
<li>如果没有匹配则返回null,否则返回一个结果数组：<br>属性index(声明匹配文本的第一个字符的位置), input(存放被检索的字符串string)<br>数组本身: [与正则表达式相匹配的文本，与正则对象的第一个子表达式（分组）相匹配的文本， 与正则对象的第二个子表达式（分组）相匹配的文本，…… ]<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var reg3=/\d(\w)(\w)\d/;    // 非全局搜索只能匹配到第一个结果</span><br><span class="line">var reg4=/\d(\w)(\w)\d/g;   // 全局搜索匹配全文</span><br><span class="line">var ts = &apos;$1az2bb3cy4dd5ee&apos;</span><br><span class="line">var ret1= reg3.exec(ts)     // (3) [&quot;1az2&quot;, &quot;a&quot;, &quot;z&quot;, index: 1, input: &quot;$1az2bb3cy4dd5ee&quot;, groups: undefined]</span><br><span class="line">console.log(reg3.lastIndex+&apos;\t&apos;+ret1.index+&apos;\t&apos;+ret1.toString())</span><br><span class="line">// &quot;0 1 1az2, a, z&quot;</span><br><span class="line">while(ret2 = reg4.exec(ts))&#123;</span><br><span class="line">  console.log(reg4.lastIndex+&apos;\t&apos;+ret2.index+&apos;\t&apos;+ret2.toString())</span><br><span class="line">&#125;</span><br><span class="line">// &quot;5 1 1az2, a, z&quot;</span><br><span class="line">// &quot;11 7 1az2, a, z&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="3-字符串对象search方法"><a href="#3-字符串对象search方法" class="headerlink" title="3. 字符串对象search方法"></a>3. 字符串对象search方法</h4><p> String.prototype.search(reg)</p>
<ul>
<li>search方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串</li>
<li>返回第一个匹配结果index，查不到返回-1</li>
<li>search()不执行全局匹配，它将忽略标志g, 并总是从字符串的开始进行检索</li>
</ul>
<h4 id="4-字符串对象match方法"><a href="#4-字符串对象match方法" class="headerlink" title="4. 字符串对象match方法"></a>4. 字符串对象match方法</h4><p> String.prototype.match(reg)</p>
<ul>
<li>match方法将检索字符串，以找到一个或多个与regexp相匹配的字符串</li>
<li>regexp是否具有标志g对结果影响很大<h5 id="非全局调用"><a href="#非全局调用" class="headerlink" title="非全局调用"></a>非全局调用</h5></li>
<li>返回数组的第一个元素存放的是匹配文本,而其余的元素存放的是与正则表达式的子表达式匹配的文本</li>
<li>除了常规的数组元素之外,返回的数组还含有2个对象属性：index声明匹配文本的起始字符在字符串的位置,input声明对stringObject的引用</li>
<li>全局调用的返回与正则表达式的exec方法相类似，即：[与正则表达式相匹配的文本，与正则对象的第一个子表达式（分组）相匹配的文本， 与正则对象的第二个子表达式（分组）相匹配的文本，…… ]，数组有index和input属性<h5 id="全局调用"><a href="#全局调用" class="headerlink" title="全局调用"></a>全局调用</h5></li>
<li>如果regexp具有标志g则match方法将执行全局检索,找到字符串中的所有匹配子字符串</li>
<li>没有找到任何匹配的子串,则返回null</li>
<li>如果找到了一个或多个匹配子串,则返回-一个数组</li>
<li>数组元素中存放的是字符串中所有的匹配子串,而且也没有index属性或input属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var reg3=/\d(\w)(\w)\d/;    // 非全局搜索只能匹配到第一个结果</span><br><span class="line">var reg4=/\d(\w)(\w)\d/g;   // 全局搜索匹配全文</span><br><span class="line">var ts = &apos;$1az2bb3cy4dd5ee&apos;</span><br><span class="line">var ret1= ts.match(reg3)   // (3) [&quot;1az2&quot;, &quot;a&quot;, &quot;z&quot;, index: 1, input: &quot;$1az2bb3cy4dd5ee&quot;, groups: undefined]   </span><br><span class="line">console.log(reg3.lastIndex+&apos;\t&apos;+ret1.index)  // 0, 1</span><br><span class="line">var ret2 = ts.match(reg4)  // (2) [&quot;1az2&quot;, &quot;3cy4&quot;]</span><br><span class="line">console.log(reg4.lastIndex+&apos;\t&apos;+ret2.index)   // 0 undefined</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="5-字符串对象split方法"><a href="#5-字符串对象split方法" class="headerlink" title="5. 字符串对象split方法"></a>5. 字符串对象split方法</h4><p>String.prototype.split(reg)</p>
<ul>
<li>我们经常使用split方法把字符串分割为字符数组<br>eg: ‘a,b,c,d’.split(‘,’); //[“a”, “b”, “c”, “d”]</li>
<li>在一些复杂的分割情况下我们可以使用正则表达式解决<br>eg: ‘alb2c3d’.split(/\d/; //[“a”, “b”, “c”, “d”]</li>
</ul>
<h4 id="6-字符串对象replace方法"><a href="#6-字符串对象replace方法" class="headerlink" title="6. 字符串对象replace方法"></a>6. 字符串对象replace方法</h4><p>String.prototype.replace</p>
<ul>
<li>String.prototype.replace(str, replaceStr)</li>
<li>String.prototype.replace(reg, replaceStr)</li>
<li>String.prototype.replace(reg, function)<br>function参数含义<br>function会在每次匹配替换的时候调用,有四个参数<br>1、匹配字符串<br>2、正则表达式分组内容,没有分组则没有该参数<br>3、匹配项在字符串中的index<br>4、原字符串<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&apos;a1b2c3d4e5&apos;.replace(/\d/g, function(match, index, origin)&#123;</span><br><span class="line">  return parseInt(match) + 1;</span><br><span class="line">&#125;)  // &quot;a2b3c4d5e6&quot;</span><br><span class="line"></span><br><span class="line">&apos;a1b2c3d4e5&apos;.replace(/(\d)(\w)(\d)/g, function(match, group1, group2, group3, index, origin)&#123;</span><br><span class="line">  console.log(match)</span><br><span class="line">  return group1 + group3;</span><br><span class="line">&#125;)  </span><br><span class="line">// 1b2</span><br><span class="line">// 3d4</span><br><span class="line">// &quot;a12c34e5&quot;</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/22/吃透js中正则表达式/" data-id="ck7yku2rg000po5yr1a9io2r4" class="article-share-link">Compartir</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/正则表达式/">正则表达式</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/05/15/极简白话金融学/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nuevo</strong>
      <div class="article-nav-title">
        
          极简白话金融学
        
      </div>
    </a>
  
  
    <a href="/2018/12/29/初探pupeteer——踩坑之旅/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Viejo</strong>
      <div class="article-nav-title">初探pupeteer——踩坑之旅</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorías</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/web开发/">web开发</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KMP算法/">KMP算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web开发/">web开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区块链/">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串的特征向量/">字符串的特征向量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/朴素算法/">朴素算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网页爬虫/">网页爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/队列/">队列</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nube de Tags</h3>
    <div class="widget tagcloud">
      <a href="/tags/CentOS/" style="font-size: 20px;">CentOS</a> <a href="/tags/KMP算法/" style="font-size: 10px;">KMP算法</a> <a href="/tags/Nginx/" style="font-size: 20px;">Nginx</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/mongodb/" style="font-size: 10px;">mongodb</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/web开发/" style="font-size: 10px;">web开发</a> <a href="/tags/区块链/" style="font-size: 10px;">区块链</a> <a href="/tags/字符串的特征向量/" style="font-size: 10px;">字符串的特征向量</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/朴素算法/" style="font-size: 10px;">朴素算法</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/网页爬虫/" style="font-size: 10px;">网页爬虫</a> <a href="/tags/队列/" style="font-size: 10px;">队列</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archivos</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Posts recientes</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/03/19/如何用hexo搭出自己的博客系统/">如何用hexo搭出自己的博客系统</a>
          </li>
        
          <li>
            <a href="/2019/06/21/如何使用ESLint-Prettier来统一我们的前端代码风格/">如何使用ESLint + Prettier来统一我们的前端代码风格</a>
          </li>
        
          <li>
            <a href="/2019/05/15/极简白话金融学/">极简白话金融学</a>
          </li>
        
          <li>
            <a href="/2019/02/22/吃透js中正则表达式/">吃透js中正则表达式</a>
          </li>
        
          <li>
            <a href="/2018/12/29/初探pupeteer——踩坑之旅/">初探pupeteer——踩坑之旅</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 taoyouyou<br>
      Construido por <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>